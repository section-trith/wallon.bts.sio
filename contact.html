<html><head><base href="https://paulportfoliobts.github.io/wallon.bts.sio/">
<title>Contact - Portfolio de Paul Peudecoeur</title>
<meta charset="UTF-8">
<style>
:root {
  --primary: #2c3e50;
  --accent: transparent;
  --light: #ecf0f1;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Poppins', sans-serif;
  line-height: 1.6;
  color: var(--primary);
  background-color: var(--light);
}

.nav {
  background: var(--primary);
  padding: 1rem 2rem;
  position: fixed;
  width: 100%;
  z-index: 1000;
}

.nav-list {
  list-style: none;
  display: flex;
  justify-content: center;
  gap: 2rem;
}

.nav-item {
  position: relative;
}

.nav-link {
  color: white;
  text-decoration: none;
  font-size: 1.1rem;
  padding: 0.5rem 1rem;
  transition: color 0.3s ease;
}

.nav-link:hover {
  color: #23d5ab;
  text-shadow: 0 0 10px rgba(35, 213, 171, 0.5);
}

.nav-link.active {
  color: #23d5ab;
  text-shadow: 0 0 10px rgba(35, 213, 171, 0.5);
}

.dropdown {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background: var(--primary);
  min-width: 200px;
  border-radius: 4px;
  padding: 0.5rem 0;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.nav-item:hover .dropdown {
  display: block;
}

.dropdown-link {
  display: block;
  color: white;
  text-decoration: none;
  padding: 0.5rem 1rem;
  transition: background-color 0.3s ease;
}

.dropdown-link:hover {
  background: linear-gradient(45deg, #ee7752, #23a6d5);
  background-size: 200% 200%;
  animation: gradient 5s ease infinite;
}

.contact-section {
  max-width: 1200px;
  margin: 0 auto;
  padding: 8rem 2rem 4rem;
  background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.4) 100%);
  border-radius: 20px;
  backdrop-filter: blur(10px);
}

.contact-header {
  text-align: center;
  margin-bottom: 4rem;
  animation: fadeInDown 1s ease-out;
}

.contact-header h1 {
  font-size: 3rem;
  margin-bottom: 1rem;
  background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  background-size: 400% 400%;
  animation: gradient 15s ease infinite;
}

.contact-header p {
  font-size: 1.2rem;
  color: #666;
}

.contact-grid {
  display: flex;
  flex-direction: column;
  gap: 2rem;
  max-width: 800px;
  margin: 0 auto;
}

.contact-card {
  background: rgba(255, 255, 255, 0.9);
  border-radius: 20px;
  padding: 2.5rem;
  text-align: center;
  box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
  backdrop-filter: blur(4px);
  border: 1px solid rgba(255, 255, 255, 0.18);
  transition: all 0.4s ease;
  cursor: pointer;
  margin-bottom: 2rem;
}

.contact-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 40px rgba(31, 38, 135, 0.2);
}

.chat-container {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 20px;
  padding: 2rem;
  box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
  position: relative;
  margin-top: -1rem;
  z-index: 1;
  transition: all 0.4s ease;
  animation: slideUp 0.5s ease-out;
}

.chat-header {
  text-align: center;
  margin-bottom: 2rem;
}

.chat-header img {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  object-fit: cover;
}

.chat-messages {
  height: 400px;
  overflow-y: auto;
  padding: 1rem;
  background: #f8f9fa;
  border-radius: 15px;
  margin-bottom: 1rem;
}

.message {
  display: flex;
  align-items: flex-start;
  margin-bottom: 1.5rem;
  animation: fadeIn 0.3s ease;
}

.message.bot {
  margin-right: 20%;
}

.message.user {
  flex-direction: row-reverse;
  margin-left: 20%;
}

.message-avatar {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  margin: 0 10px;
  object-fit: cover;
}

.message-content {
  padding: 0.8rem 1.2rem;
  border-radius: 20px;
  max-width: 80%;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 0.5rem;
}

.edit-icon {
  opacity: 1;
  cursor: pointer;
  font-size: 0.8rem;
  color: rgba(255,255,255,0.7);
  transition: opacity 0.2s ease;
}

.chat-container.closing {
  animation: closeChat 0.5s ease forwards;
}

.bot .message-content {
  background: #2c3e50;
  color: white;
  border-top-left-radius: 5px;
}

.user .message-content {
  background: #0084ff;
  color: white;
  border-top-right-radius: 5px;
}

.chat-input-container {
  display: flex;
  gap: 1rem;
  padding: 1rem;
  background: #f8f9fa;
  border-radius: 15px;
}

.chat-input {
  flex: 1;
  padding: 1rem;
  border: 1px solid #e0e0e0;
  border-radius: 10px;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.send-button {
  padding: 1rem;
  border: none;
  border-radius: 10px;
  background: #0084ff;
  color: white;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.send-button:hover {
  background: #0073e6;
}

@keyframes gradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-50px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes closeChat {
  to {
    opacity: 0;
    transform: scale(0.9);
    height: 0;
    padding: 0;
    margin: 0;
  }
}

.success-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.9);
  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 0;
  z-index: 1001;
  transition: opacity 0.5s ease;
}

.success-content {
  text-align: center;
  transform: scale(0.8);
  transition: transform 0.5s ease;
}

.success-icon {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: #4CAF50;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 20px;
}

.success-icon i {
  color: white;
  font-size: 40px;
}

.success-message {
  color: #2c3e50;
  font-size: 1.5rem;
  margin-bottom: 10px;
}

.success-overlay.show {
  opacity: 1;
}

.success-overlay.show .success-content {
  transform: scale(1);
}

.chat-input:disabled {
  background-color: #e9ecef;
  cursor: not-allowed;
}

.send-button:disabled {
  background: #ccc;
  cursor: not-allowed;
}
</style>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

<nav class="nav">
  <ul class="nav-list">
    <li class="nav-item">
      <a href="index.html" class="nav-link">Accueil</a>
    </li>
    <li class="nav-item">
      <a href="profil.html" class="nav-link">Profil</a>
    </li>
    <li class="nav-item">
      <a href="formation.html" class="nav-link">Formation</a>
      <div class="dropdown">
        <a href="formation.html" class="dropdown-link">BTS SIO SISR</a>
      </div>
    </li>
    <li class="nav-item">
      <a href="organisation.html" class="nav-link">Organisation</a>
    </li>
    <li class="nav-item">
      <a href="index.html" class="nav-link">Epreuves</a>
      <div class="dropdown">
        <a href="epreuve-e4.html" class="dropdown-link">Epreuve E4</a>
        <a href="epreuve-e6.html" class="dropdown-link">Epreuve E6</a>
      </div>
    </li>
    <li class="nav-item">
      <a href="veilles.html" class="nav-link">Veilles</a>
    </li>
    <li class="nav-item">
      <a href="contact.html" class="nav-link active">Contact</a>
    </li>
  </ul>
</nav>

<main class="contact-section">
  <div class="contact-header">
    <h1>Contactez-moi</h1>
    <p>N'hésitez pas à me contacter pour toute information complémentaire</p>
  </div>

  <div class="contact-grid">
    <div class="contact-card" onclick="window.location.href='mailto:paul.peudecoeur@email.com'">
      <i class="fas fa-envelope contact-icon"></i>
      <h3>Email</h3>
      <p>paul.peudecoeur@email.com</p>
    </div>

    <div class="chat-container">
      <div class="chat-messages" id="chatMessages">
        <!-- Messages will appear here -->
      </div>
      <div class="chat-input-container">
        <input type="text" class="chat-input" placeholder="Écrivez votre message..." id="messageInput">
        <button class="send-button" onclick="sendMessage()">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
  </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script>
(function() {
  emailjs.init("BV6uENxCDTEvYAyPw"); // Initialize with your public key
})();

document.addEventListener('DOMContentLoaded', function() {
  const cards = document.querySelectorAll('.contact-card');
  const chatMessages = document.getElementById('chatMessages');
  window.conversationState = 0;
  window.userInfo = {
    name: '',
    contact: '',
    description: ''
  };
  
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.style.opacity = '1';
        entry.target.style.transform = 'translateY(0)';
      }
    });
  }, observerOptions);

  cards.forEach(card => {
    card.style.opacity = '0';
    card.style.transform = 'translateY(50px)';
    observer.observe(card);
  });

  // Initial chatbot message
  setTimeout(() => {
    addBotMessage("Bonjour ! Je suis l'assistant virtuel de Paul. Pour commencer, pourriez-vous me donner votre nom et prénom ?");
  }, 1000);
});

function validateEmail(email) {
    const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return regex.test(email);
}

function showSuccessOverlay() {
  const overlay = document.createElement('div');
  overlay.className = 'success-overlay';
  overlay.innerHTML = `
    <div class="success-content">
      <div class="success-icon">
        <i class="fas fa-check"></i>
      </div>
      <h2 class="success-message">Contact effectué avec succès!</h2>
      <p>Paul reviendra vers vous très rapidement.</p>
    </div>
  `;
  document.body.appendChild(overlay);
  
  // Disable chat input and button
  document.querySelector('.chat-input').disabled = true;
  document.querySelector('.send-button').disabled = true;
  
  setTimeout(() => {
    overlay.classList.add('show');
  }, 100);

  setTimeout(() => {
    overlay.style.opacity = '0';
    setTimeout(() => overlay.remove(), 500);
  }, 3000);
}

function addBotMessage(message) {
  const messages = document.getElementById('chatMessages');
  const messageDiv = document.createElement('div');
  messageDiv.className = 'message bot';
  messageDiv.innerHTML = `
    <img class="message-avatar" src="robot.png" alt="Robot Assistant">
    <div class="message-content">${message}</div>
  `;
  messages.appendChild(messageDiv);
  messages.scrollTop = messages.scrollHeight;
}

function addUserMessage(message) {
  const messages = document.getElementById('chatMessages');
  const messageDiv = document.createElement('div');
  messageDiv.className = 'message user';
  messageDiv.innerHTML = `
    <div class="message-content">
      <span class="message-text">${message}</span>
      <i class="fas fa-pencil edit-icon" onclick="editMessage(this)"></i>
    </div>
    <div class="message-avatar" style="background: #ddd; display: flex; align-items: center; justify-content: center;">
      <i class="fas fa-user" style="color: #666;"></i>
    </div>
  `;
  messages.appendChild(messageDiv);
  messages.scrollTop = messages.scrollHeight;
}

function editMessage(editIcon) {
  const messageContent = editIcon.parentElement;
  const messageDiv = messageContent.parentElement;
  const messageText = messageContent.querySelector('.message-text');
  const currentText = messageText.textContent;
  
  const input = document.createElement('input');
  input.type = 'text';
  input.value = currentText;
  input.className = 'edit-input';
  input.style.width = '100%';
  input.style.padding = '0.3rem';
  input.style.border = 'none';
  input.style.borderRadius = '5px';
  
  messageText.replaceWith(input);
  input.focus();
  
  input.addEventListener('blur', function() {
    const newText = input.value.trim();
    if (newText && newText !== currentText) {
      messageText.textContent = newText;
      input.replaceWith(messageText);
      
      const messages = Array.from(document.querySelectorAll('.message'));
      const editedIndex = messages.indexOf(messageDiv);
      
      messages.forEach((msg, index) => {
        if (index > editedIndex) {
          msg.remove();
        }
      });
      
      if (editedIndex === 1) {
        window.conversationState = 0;
        window.userInfo.name = newText;
        setTimeout(() => {
          addBotMessage(`Ravi de vous rencontrer ${window.userInfo.name} ! Veuillez me laisser votre adresse email pour que je puisse vous recontacter.`);
        }, 1000);
      } else if (editedIndex === 3) {
        window.conversationState = 1;
        window.userInfo.contact = newText;
        setTimeout(() => {
          if (validateEmail(newText)) {
            addBotMessage("Parfait ! Maintenant, pouvez-vous me décrire votre demande ?");
            window.conversationState = 2;
          } else {
            addBotMessage("Cette adresse email ne semble pas valide. Veuillez entrer une adresse email valide (exemple: nom@domaine.com)");
          }
        }, 1000);
      } else if (editedIndex === 5) {
        window.conversationState = 2;
        window.userInfo.description = newText;
        setTimeout(() => {
          addBotMessage("Merci pour ces informations ! Je transmets votre demande à Paul qui vous recontactera très prochainement.");
          showSuccessOverlay();
        }, 1000);
      }
    } else {
      input.replaceWith(messageText);
    }
  });
  
  input.addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      input.blur();
    }
  });
}

function sendMessage() {
  const input = document.getElementById('messageInput');
  const message = input.value.trim();
  
  if (message !== '') {
    addUserMessage(message);
    
    switch(window.conversationState) {
      case 0:
        window.userInfo.name = message;
        setTimeout(() => {
          addBotMessage(`Ravi de vous rencontrer ${window.userInfo.name} ! Veuillez me laisser votre adresse email pour que je puisse vous recontacter.`);
        }, 1000);
        window.conversationState = 1;
        break;
        
      case 1:
        if (validateEmail(message)) {
          window.userInfo.contact = message;
          setTimeout(() => {
            addBotMessage("Parfait ! Maintenant, pouvez-vous me décrire votre demande ?");
          }, 1000);
          window.conversationState = 2;
        } else {
          setTimeout(() => {
            addBotMessage("Cette adresse email ne semble pas valide. Veuillez entrer une adresse email valide (exemple: nom@domaine.com)");
          }, 1000);
        }
        break;
        
      case 2:
        window.userInfo.description = message;
        setTimeout(() => {
          addBotMessage("Merci pour ces informations ! Je transmets votre demande à Paul qui vous recontactera très prochainement.");
          showSuccessOverlay();
          
          // Send email using EmailJS
          emailjs.send("service_q6uctzi", "template_vt88hoe", {
            from_name: window.userInfo.name,
            from_email: window.userInfo.contact,
            message: window.userInfo.description
          }).then(
            function(response) {
              console.log("Email sent successfully", response);
            },
            function(error) {
              console.error("Failed to send email:", error);
              addBotMessage("Désolé, une erreur est survenue lors de l'envoi. Veuillez réessayer plus tard.");
            }
          );
        }, 1000);
        conversationState = 3;
        break;
    }
    
    input.value = '';
  }
}

document.getElementById('messageInput').addEventListener('keypress', function(e) {
  if (e.key === 'Enter') {
    sendMessage();
  }
});
</script>

</body></html>
